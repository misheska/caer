namespace dv;

enum ConfigAction : int8 {
	ERROR              = 0,
	NODE_EXISTS        = 1,
	ATTR_EXISTS        = 2,
	GET_CHILDREN       = 3,
	GET_ATTRIBUTES     = 4,
	GET_TYPE           = 5,
	GET_RANGES         = 6,
	GET_FLAGS          = 7,
	GET_DESCRIPTION    = 8,
	GET                = 9,
	PUT                = 10,
	ADD_MODULE         = 11,
	REMOVE_MODULE      = 12,
	ADD_PUSH_CLIENT    = 13,
	REMOVE_PUSH_CLIENT = 14,
	PUSH_MESSAGE_NODE  = 15,
	PUSH_MESSAGE_ATTR  = 16,
	DUMP_TREE          = 17,
	DUMP_TREE_NODE     = 18,
	DUMP_TREE_ATTR     = 19,
	GET_CLIENT_ID      = 20
}

enum ConfigType : int8 {
	UNKNOWN = 0,
	BOOL    = 1,
	INT     = 2,
	LONG    = 3,
	FLOAT   = 4,
	DOUBLE  = 5,
	STRING  = 6
}

enum ConfigNodeEvents : int8 {
	NODE_ADDED   = 1,
	NODE_REMOVED = 2
}

enum ConfigAttributeEvents : int8 {
	ATTRIBUTE_ADDED           = 1,
	ATTRIBUTE_MODIFIED        = 2,
	ATTRIBUTE_REMOVED         = 4,
	ATTRIBUTE_MODIFIED_CREATE = 8
}

table ConfigActionData {
	action: ConfigAction = ERROR;
	nodeEvents: ConfigNodeEvents; // Node related.
	attrEvents: ConfigAttributeEvents; // Attribute related.
	id: uint64;
	node: string;
	key: string;
	type: ConfigType = UNKNOWN;
	value: string;
	// On attribute creation only.
	ranges: string;
	flags: int32;
	description: string;
}

root_type ConfigActionData;
